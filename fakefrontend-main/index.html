<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spyn - Posture Correction App</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Main Dashboard -->
    <div id="dashboard" class="dashboard">
        <header class="dashboard-header">
            <div class="logo">
                <h1>Spyn</h1>
            </div>
            <div class="header-actions">
                <button id="shortcutsBtn" class="help-btn" title="Keyboard Shortcuts">
                    <svg class="header-icon" viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"/>
                    </svg>
                </button>
                <button id="signoutBtn" class="signout-btn" title="Sign Out">
                    <svg class="header-icon" viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
                    </svg>
                </button>
            </div>
        </header>

        <main class="dashboard-main">
            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-btn active" data-tab="posture">Everyday Posture</button>
                <button class="tab-btn" data-tab="exercise">Exercise Form Analysis</button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Posture Tab -->
                <div id="posture-tab" class="tab-pane active">
                    <!-- Hero Section - Only in posture tab -->
                    <div class="hero-section">
                        <div class="hero-content">
                            <h2>Ready to Improve Your Posture?</h2>
                            <p>Click below to start monitoring your posture in real-time</p>
                            <button id="startMonitoringBtn" class="start-btn">
                                <span class="btn-icon">â–¶</span>
                                Start Spyn Monitoring
                            </button>
                        </div>
                    </div>

                    <div id="postureReport" class="posture-report hidden">
                        <h3>Posture Report</h3>
                        <div class="report-grid">
                            <div class="metric-card">
                                <div class="metric-value" id="overallScore">85%</div>
                                <div class="metric-label">Overall Score</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="sessionDuration">12:34</div>
                                <div class="metric-label">Session Duration</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="goodPostureTime">78%</div>
                                <div class="metric-label">Good Posture Time</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="corrections">23</div>
                                <div class="metric-label">Corrections</div>
                            </div>
                        </div>
                        
                        <div class="chart-container">
                            <h4>Posture Quality Over Time</h4>
                            <canvas id="postureChart" width="800" height="200"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Exercise Tab -->
                <div id="exercise-tab" class="tab-pane">
                    <div class="hero-section">
                        <div class="hero-content">
                            <h2>Exercise Form Analysis</h2>
                            <p>Use your camera to analyze and improve your exercise form in real-time</p>
                            <button id="startExerciseBtn" class="start-btn">
                                Start Exercise Analysis
                            </button>
                            <button id="stopExerciseBtn" class="stop-btn" style="display: none; margin-left: 1rem;">
                                Stop Analysis
                            </button>
                        </div>
                    </div>

                    <div class="exercise-content">
                        <div class="exercise-info">
                            <h3>Available Exercises</h3>
                            <div class="exercise-grid">
                                <div class="exercise-card">
                                    <h4>Deadlift</h4>
                                    <p>Analyze back posture and hip hinge movement</p>
                                </div>
                                <div class="exercise-card">
                                    <h4>Push-ups</h4>
                                    <p>Monitor body alignment and core stability</p>
                                </div>
                                <div class="exercise-card">
                                    <h4>Squats</h4>
                                    <p>Track knee alignment and depth</p>
                                </div>
                                <div class="exercise-card">
                                    <h4>Planks</h4>
                                    <p>Ensure straight line from head to heels</p>
                                </div>
                            </div>
                        </div>

                        <div id="exerciseAnalysis" class="exercise-analysis hidden">
                            <h3>Exercise Analysis</h3>
                            <div class="analysis-grid">
                                <div class="analysis-card">
                                    <div class="analysis-value" id="formScore">92%</div>
                                    <div class="analysis-label">Form Score</div>
                                </div>
                                <div class="analysis-card">
                                    <div class="analysis-value" id="repsCount">15</div>
                                    <div class="analysis-label">Reps Completed</div>
                                </div>
                                <div class="analysis-card">
                                    <div class="analysis-value" id="timeElapsed">02:30</div>
                                    <div class="analysis-label">Session Time</div>
                                </div>
                                <div class="analysis-card">
                                    <div class="analysis-value" id="correctionsMade">3</div>
                                    <div class="analysis-label">Form Corrections</div>
                                </div>
                            </div>
                            
                            <div class="camera-container">
                                <h4>Live Camera Feed</h4>
                                <video id="exerciseVideoElement" autoplay muted playsinline style="display: none;"></video>
                                <div id="exerciseCameraPlaceholder" class="camera-placeholder">
                                    <div class="camera-icon">ðŸ“¹</div>
                                    <p>Camera feed will appear here</p>
                                </div>
                                <div id="exerciseCameraError" class="error-message" style="display: none;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Overlay Window -->
    <div id="overlay" class="overlay hidden">
        <div class="overlay-header">
            <div class="overlay-title">Spyn</div>
            <div class="overlay-controls">
                <button id="minimizeBtn" class="control-btn">âˆ’</button>
                <button id="closeBtn" class="control-btn">Ã—</button>
            </div>
        </div>

        <div class="overlay-content">
            <div class="timer-section">
                <div class="timer" id="sessionTimer">00:00</div>
                <div class="session-label">Session Time</div>
            </div>

            <div class="status-section">
                <div id="postureStatus" class="posture-status good">
                    <div class="status-icon">âœ“</div>
                    <div class="status-text">Good Posture</div>
                </div>
            </div>

            <div class="dropdown-section">
                <select id="overlayMode" class="mode-selector">
                    <option value="camera">Show Live Camera Feed</option>
                    <option value="status">Show Posture Status</option>
                    <option value="percentage">Show Posture Percentage</option>
                </select>
            </div>

            <div class="percentage-display">
                <div class="percentage-value" id="posturePercentage">85%</div>
                <div class="percentage-label">Good Posture</div>
            </div>

            <div class="transparency-controls">
                <label>Transparency:</label>
                <div class="transparency-buttons">
                    <button id="hiddenBtn" class="transparency-btn" data-level="hidden">Hidden</button>
                    <button id="transparentBtn" class="transparency-btn" data-level="transparent">Semi</button>
                    <button id="visibleBtn" class="transparency-btn active" data-level="visible">Full</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Keyboard Shortcuts Modal -->
    <div id="shortcutsModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Keyboard Shortcuts</h3>
                <button id="closeModalBtn" class="close-btn">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="shortcuts-grid">
                    <div class="shortcut-section">
                        <h4>Monitoring & Overlay</h4>
                        <div class="shortcut-item">
                            <span class="shortcut-key">Ctrl+Shift+M</span>
                            <span class="shortcut-desc">Start/Stop Monitoring</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">Ctrl+Shift+P</span>
                            <span class="shortcut-desc">Toggle Overlay</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">F9</span>
                            <span class="shortcut-desc">Quick Start/Stop</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">F10</span>
                            <span class="shortcut-desc">Quick Toggle Overlay</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">Escape</span>
                            <span class="shortcut-desc">Stop Monitoring</span>
                        </div>
                    </div>
                    
                    <div class="shortcut-section">
                        <h4>Transparency</h4>
                        <div class="shortcut-item">
                            <span class="shortcut-key">Ctrl+Shift+F</span>
                            <span class="shortcut-desc">Full Visibility</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">Ctrl+Shift+T</span>
                            <span class="shortcut-desc">Semi Transparent</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">F1</span>
                            <span class="shortcut-desc">Quick Full Visibility</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">F2</span>
                            <span class="shortcut-desc">Quick Semi Transparent</span>
                        </div>
                    </div>
                    
                    <div class="shortcut-section">
                        <h4>Camera & Navigation</h4>
                        <div class="shortcut-item">
                            <span class="shortcut-key">Ctrl+Shift+C</span>
                            <span class="shortcut-desc">Toggle Camera</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">F11</span>
                            <span class="shortcut-desc">Quick Camera Toggle</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">Ctrl+Shift+O</span>
                            <span class="shortcut-desc">Center Overlay</span>
                        </div>
                    </div>
                    
                    <div class="shortcut-section">
                        <h4>Dashboard Tabs</h4>
                        <div class="shortcut-item">
                            <span class="shortcut-key">F3</span>
                            <span class="shortcut-desc">Posture Tab</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">F4</span>
                            <span class="shortcut-desc">Exercise Tab</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">F12</span>
                            <span class="shortcut-desc">Show/Hide Shortcuts</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
